# “活力日志”需求规约（说明书）

## 修订历史

| 编写日期   | SEPG | 版本 | 说明                         | 作者       | 评审时间 | 评审参与人员 | 评审后修改批准日期 | 确认签字人员 |
| ---------- | ---- | ---- | ---------------------------- | ---------- | -------- | ------------ | ------------------ | ------------ |
| 2023.11.10 |      | V1.0 | 完成需求调研和基本需求规约。 | 郑埴，郑楷 |          |              |                    |              |

## 一、介绍

在现代社会，健康意识越来越受到重视。随着生活节奏的加快、工作压力的增大以及不健康的生活方式成为常态，许多人面临健康问题。心血管疾病、肥胖、糖尿病等慢性疾病的患病率不断上升，这促使人们更加关注自身的健康状况。

同时，智能手机和可穿戴设备的普及，使人们能够更方便地追踪自己的运动和饮食习惯。这为开发一款综合的健康管理应用提供了机会，能够帮助用户更好地理解自己的健康状况、制定合理的运动和饮食计划，以及获取相关的健康产品和服务。

因此，本应用应运而生，旨在为用户提供全面的健康管理服务，涵盖运动状态检测、记录、饮食状况记录与分析、运动监测以及健康生活方式的推广。通过此应用，用户能够轻松记录并分析个人的日常运动和饮食情况，借助于智能分析和提供的建议，改善自身健康状况。应用旨在为用户提供个性化的健康管理方案，并结合健康商城功能，使用户能够直接获取与健康生活相关的商品和服务。本应用的设计目标是用户友好、高效实用，旨在成为用户健康生活的得力助手。

## 二、整体描述

本项目名为“活力日志”，基于



## 三、系统与其他系统的接口

## 四、需求调研

### 4.1 问卷调研



## 五、功能性需求描述

### 5.1. 运动实况记录系统

#### 5.1.1. 用例概述
本用例描述了用户通过系统调用设备传感器，记录、分析并存储用户每次运动的详细信息。用户可以通过系统选择运动种类、设定运动目标；系统将调用设备的各类传感器，记录用户本次运动的时间、距离以及各类运动指标，实时给出运动调整建议。运动结束后，系统将自动计算并分析该次运动的各项数据，判定是否达到用户设定的目标，存储本次运动的详细信息，在下次运动开始时给出推荐目标。该运动实况记录系统可以有效为用户提供个性化的运动建议和训练计划，帮助用户更好地进行体育锻炼和健康管理，提高用户的运动效率。

#### 5.1.2. 事件流程

##### 5.1.2.1. 基本流程

1. 用户点击“开始运动”，选择运动类型，包括跑步、游泳、骑行、球类等；
2. 系统调用设备时钟，记录运动起始时间与当前时长；调用位置传感器（运动类型为跑步、游泳或骑行），记录运动距离；调用陀螺仪（运动类型为跑步或骑行），记录步频或踏频；调用振动传感器，记录心率;
3. 系统根据调用传感器获取的信息，在设备上实时向用户展示本次运动的数据，包括配速、里程、热量消耗（需要先记录用户的身高体重）等，并根据数据向用户推荐后续运动节奏；
4. 用户手动点击“结束运动”，或设备在十分钟内移动距离少于10米（运动类型为跑步、游泳或骑行），本次运动结束，系统存储并展示本次运动详细数据，用例结束。

##### 5.1.2.2. 可选流程

1. 运动目标设定<br>
    在5.1.2.1.1.选定运动类型后，5.1.2.1.2.每次运动正式开始前，用户都可以设定本次运动的具体目标，包括距离、配速等；系统也会根据之前的运动记录（若有）进行运动目标的推荐。
2. 健康危险警告<br>
    若用户开启警告选项，同时心率数据可用、并且系统已经记录了用户的身高体重，则系统将在用户心率超过计算阈值一段时间后振动警告、响铃警告。

##### 5.1.2.3. 先决条件

1. 系统处于登陆状态；
2. 上一次运动已经结束。

##### 5.1.2.4. 后置条件

1. 本用例结束后，系统把用例数据通过接口传递给日程系统，用户后续可以通过日程系统，访问已结束运动的历史数据。

#### 5.1.3. 用例图

#### 5.1.4. 活动图

#### 5.1.5. 交互图

#### 5.1.6. 类图

#### 5.1.7. 用例规约表

### 5.2. 日程系统

#### 5.2.1. 用例概述
本用例描述了用户通过可视化的日历系统，观察当日与之前日期的简略运动信息和健康信息。该系统也提供通往指定日期运动实况系统和健康系统的入口，起到便捷直观的枢纽功能，方便用户的后续操作。

#### 5.2.2. 事件流程

##### 5.2.2.1. 基本流程

1. 用户进入日程界面，系统在日历上向用户展示简略的每日运动记录和饮食健康记录；
2. 用户点击筛选器，可以跳转日程的月份以及年份；
3. 用户点击日历上的具体日期，系统向用户展示该日的具体运动记录与饮食健康记录，并从相应的两个系统中调用已存储数据并展示；
4. 用户退出日历界面、或通过5.2.2.2.1跳转对应系统后，用例结束。

##### 5.2.2.2. 可选流程

1. 跳转对应系统<br>
    若用户在日历界面点击的是当天日期，用户点击后，系统将额外展示“开始运动”与“记录饮食”两个按钮，用户点击后将分别进入运动实况系统和健康饮食系统。
2. 日程提醒<br>
    若用户在日历界面点击未来日期，可以设置当天的日程，系统将在当天推送通知，提醒用户完成当天既定日程。

##### 5.2.2.3. 先决条件

1. 系统处于登陆状态。

##### 5.2.2.4. 后置条件

1. 无。

#### 5.2.3. 用例图

#### 5.2.4. 活动图

#### 5.2.5. 交互图

#### 5.2.6. 类图

#### 5.2.7. 用例规约表

### 5.3. 健康状态管理系统

#### 5.3.1. 用例概述
本用例描述了用户通过系统详细记录自身当天的健康状况，包括饮食记录、身高体重、睡眠质量等。系统将根据用户输入的当天健康状况，计算当天的热量摄入；同时结合历史数据，运算后为用户量身定制并推荐后续的饮食计划，用户在选择计划之后系统将适时推送健康提醒，方便用户工程化管理自身健康。

#### 5.3.2. 事件流程

##### 5.3.2.1. 基本流程

1. 用户点击“健康记录”按钮，进入健康状态管理系统，用例开始；
2. 系统基于历史数据，向用户提供当日三餐饮食记录的快捷选项，包括饮食种类和分量，用户可以直接点击选择，或长按修改饮食细节；
3. 系统根据用户输入的饮食数据，计算当日的热量摄入；
4. 系统从运动实况记录系统中调用用户当天的运动记录，同时向设备系统调用用户当天的行走步数记录（有权限情况），计算当日的热量支出；
5. 系统向用户展示当日的热量收支和基本健康状态；
6. 用户返回日程系统后，用例结束。

##### 5.3.2.2. 可选流程

1. 身高体重数据更新<br>
    系统默认使用前一天的身高体重数据进行展示和热量计算，若用户直接点击数据，可以输入更新自身当前的身高体重；若没有历史的身高体重数据，系统将强制要求用户进行输入。
2. 步数更新<br>
	若用户点击步数，系统将调用设备系统信息，更新实时步数。
3. 饮食计划<br>
    系统将根据用户历史的饮食记录和健康状态，生成若干合适的饮食计划；若用户选择了任意饮食计划，系统将在后续推送健康通知，并判断每日的饮食、运动、热量收支是否达到了计划要求。

##### 5.3.2.3. 先决条件

1. 系统处于登陆状态；
2. 当前日期的健康状态尚未完全填写。

##### 5.3.2.4. 后置条件

1. 本用例结束后，系统把用例数据通过接口传递给日程系统，用户后续可以通过日程系统，访问之前日期健康状况的历史数据。

#### 5.3.3. 用例图

#### 5.3.4. 活动图

#### 5.3.5. 交互图

#### 5.3.6. 类图

#### 5.3.7. 用例规约表

### 5.4. 登录注册系统

#### 5.4.1. 用例概述
本用例描述了用户通过系统创建新账号、登录已有账号，系统将根据账号在云端存储相应的所有数据，用户可以通过账号在不同的设备上同步信息。用户还可以通过该系统设置账号的密保问题、绑定手机号码、修改密码、找回账号，提升账号的安全性，避免隐私信息的泄露。

#### 5.4.2. 事件流程

##### 5.4.2.1. 基本流程

1. 用户打开应用程序后，用例开始；
2. 若系统保存了之前的用户信息，并且用户已经选择自动登录，则系统自动登录成功；
3. 用户输入账号与密码，系统与数据库中数据比较，判断账号是否存在、密码是否正确；若均正确，则系统登陆成功；否则系统将会给出相应的错误提醒；
4. 若用户点击注册账号，系统将让用户填写用户名与密码，并设置密保问题；若用户名与密码符合格式规范，账号创建成功，系统自动登录；否则用户需要重新输入；
5. 用户成功登录或退出应用程序后，用例结束。

##### 5.4.2.2. 可选流程

1. 账号找回<br>
    若用户在输入账号密码时发生错误，系统将提供账号找回按钮，用户点击后跳转至账号找回页面，回答密保问题或通过已绑定手机验证后，即可重置密码。
2. 绑定手机号<br>
    用户在注册时可以选择额外绑定手机号，在输入手机号后系统自动向该手机号发送短信验证码，用户输入正确验证码后便绑定成功。

##### 5.4.2.3. 先决条件

1. 无。

##### 5.4.2.4. 后置条件

1. 本用例结束后，若用户成功登录，系统状态变更为为已登录状态，否则仍然保持游客状态。

#### 5.4.3. 用例图

#### 5.4.4. 活动图

#### 5.4.5. 交互图

#### 5.4.6. 类图

#### 5.4.7. 用例规约表

## 六、非功能性需求描述

## 七、其他需求